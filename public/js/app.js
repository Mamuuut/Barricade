// Generated by CoffeeScript 1.3.3

/*
  app.coffee
*/


(function() {

  define(['ChatView', 'GameList', 'GameListView', 'BoardView', 'MainView'], function(ChatView, GameList, GameListView, BoardView, MainView) {
    var initialize;
    initialize = function() {
      var gameList;
      gameList = new GameList;
      return $.get('/user', function(user) {
        var boardView, chatView, gameListView, mainView;
        chatView = new ChatView({
          user: user
        });
        gameListView = new GameListView({
          games: gameList,
          playerid: user.id
        });
        gameList.fetch();
        boardView = new BoardView({
          playerid: user.id
        });
        return mainView = new MainView({
          gameListView: gameListView,
          boardView: boardView
        });
      });
    };
    return {
      initialize: initialize
    };
  });

}).call(this);
