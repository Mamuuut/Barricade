// Generated by CoffeeScript 1.3.3

/*
  app.coffee
*/


(function() {

  define(['chat', 'GameList', 'GameListView'], function(Chat, GameList, GameListView) {
    var initialize;
    initialize = function() {
      var gameList;
      gameList = new GameList;
      return $.get('/user', function(data) {
        var gameListView;
        Chat.initialize(data.username);
        gameListView = new GameListView({
          games: gameList,
          playerid: data.userid
        });
        return gameList.fetch({
          success: function(games) {
            console.log(games);
            return gameListView.render();
          }
        });
      });
    };
    return {
      initialize: initialize
    };
  });

}).call(this);
